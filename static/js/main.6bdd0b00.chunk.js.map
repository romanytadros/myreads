{"version":3,"sources":["BooksAPI.js","store/action.js","components/BookSelect.js","components/Book.js","components/BookShelf.js","pages/MainLib.js","pages/Search.js","pages/NotFound.js","App.js","store/reducer.js","store/store.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","then","res","json","data","update","book","shelf","method","body","JSON","stringify","catch","err","console","error","bookList","payload","type","searchBook","query","isBusy","isbusy","isBusy2","isbusy2","currentlyReading","wantToRead","read","Bookselect","shelfo","bookid","ifsearch","bookselect","useRef","curread","useSelector","state","wantread","readed","bookLst","booklist","dispatch","useDispatch","changebk","st","no","document","getElementsByName","bkid","value","innerHTML","useEffect","setTimeout","curbk","filter","id","length","current","selected","className","name","ref","onChange","e","concat","target","setselectstate","disabled","Book","booko","title","authors","style","width","height","backgroundImage","join","BookShelf","bookinfo","isBsy","arr1","arr2","arr3","books","map","push","index","MainLib","to","Search","useState","searchresult","setSearchresult","searchvalue","isBsy2","preventDefault","maxResults","search2","toLowerCase","trim","placeholder","NotFound","App","exact","path","component","INITIAL_VALUE","store","createStore","action","composeWithDevTools","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6bdd0b00.chunk.js","sourcesContent":["const api = \"https://reactnd-books-api.udacity.com\";\n\nlet token = localStorage.token;\n\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token,\n};\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.book);\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then((res) => res.json())\n    .then((data) => data);\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book}`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ shelf }),\n  })\n    .then((res) => res.json())\n    .catch((err) => console.error(err));\n\nexport const search = (query, maxResults) =>\n  fetch(`${api}/search`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ query, maxResults }),\n  })\n    .then((res) => res.json())\n    .then((data) => data.books);\n","export const bookList=(payload)=>{\n    return{\n        payload,\n      type: 'BOOK_LIST',\n    }\n  }\n  \n \n  export const searchBook=(query)=>{\n      return{\n          query,\n          type: 'SEARCH_BOOK',\n          \n          \n      }\n      }\n  \n  export const getAllBooks=( )=>{\n      return{\n          type: 'GET_ALL_BOOKS'\n      }\n      }\n  export const isBusy=(isbusy)=>{\n      return{\n          type: 'IS_BUSY',\n          isbusy\n      }\n      }\n  export const isBusy2=(isbusy2)=>{\n          return{\n              type: 'IS_BUSY2',\n              isbusy2\n          }\n          }\n  export const currentlyReading=(currentlyReading)=>{\n      return{\n          type: 'CURRENTLY_READING',\n          currentlyReading\n      }\n      }\n  \n  export const wantToRead=(wantToRead)=>{\n      return{\n          type: 'WANT_TO_READ',\n          wantToRead\n      }\n      }\n  export const read=(read)=>{\n      return{\n          type: 'READ',\n          read\n      }\n      }\n  ","import { useEffect, useRef } from \"react\";\nimport \"../App.css\";\nimport { update } from \"../BooksAPI\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { currentlyReading, wantToRead, read } from \"../store/action\";\n\nfunction Bookselect(shelfo, bookid, ifsearch) {\n  const bookselect = useRef(null);\n  const curread = useSelector((state) => state.currentlyReading);\n  const wantread = useSelector((state) => state.wantToRead);\n  const readed = useSelector((state) => state.read);\n  const bookLst = useSelector((state) => state.booklist);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (shelfo.ifsearch) {\n      setTimeout(() => {\n        const curbk = bookLst.filter((book) => book.id === shelfo.bkid);\n\n        if (curbk.length > 0) {\n          if (curbk[0].shelf === \"currentlyReading\") {\n            bookselect.current[1].selected = true;\n            bookselect.current[1].innerHTML = \"√ currentlyReading\";\n            bookselect.current[4].innerHTML = \"none\";\n            bookselect.current[2].innerHTML = \"wantToRead\";\n            bookselect.current[3].innerHTML = \"read\";\n          }\n          if (curbk[0].shelf === \"wantToRead\") {\n            bookselect.current[2].selected = true;\n            bookselect.current[2].innerHTML = \"√ wantToRead\";\n            bookselect.current[4].innerHTML = \"none\";\n            bookselect.current[1].innerHTML = \"currentlyReading\";\n            bookselect.current[3].innerHTML = \"read\";\n          }\n          if (curbk[0].shelf === \"read\") {\n            bookselect.current[3].selected = true;\n            bookselect.current[3].innerHTML = \"√ read\";\n            bookselect.current[4].innerHTML = \"none\";\n            bookselect.current[1].innerHTML = \"currentlyReading\";\n            bookselect.current[2].innerHTML = \"wantToRead\";\n          }\n        } else {\n          if (bookselect) {\n            bookselect.current[4].selected = true;\n            bookselect.current[4].innerHTML = \"√ none\";\n            bookselect.current[1].innerHTML = \"currentlyReading\";\n            bookselect.current[2].innerHTML = \"wantToRead\";\n            bookselect.current[3].innerHTML = \"read\";\n          }\n        }\n      }, 10);\n    } else {\n      if (bookselect.current.value === \"currentlyReading\") {\n        bookselect.current[1].innerHTML = \"√ currentlyReading\";\n      }\n      if (bookselect.current.value === \"wantToRead\") {\n        bookselect.current[2].innerHTML = \"√ wantToRead\";\n      }\n\n      if (bookselect.current.value === \"read\") {\n        bookselect.current[3].innerHTML = \"√ read\";\n      }\n    }\n  }, [bookLst, shelfo]);\n\n  function setselectstate(e) {\n    setTimeout(() => {\n      if (e.target.value === \"currentlyReading\") {\n        e.target[1].innerHTML = \"√ currentlyReading\";\n      }\n      if (e.target.value === \"wantToRead\") {\n        e.target[2].innerHTML = \"√ wantToRead\";\n      }\n\n      if (e.target.value === \"read\") {\n        e.target[3].innerHTML = \"√ read\";\n      }\n      if (e.target.value === \"none\") {\n        e.target[4].innerHTML = \"√ none\";\n      }\n    }, 300);\n  }\n  function changebk(st, no) {\n    // if(st !== \"none\"){\n    document.getElementsByName(shelfo.bkid)[0].value = st;\n    document.getElementsByName(shelfo.bkid)[0][no].innerHTML = \"√ \" + st;\n    switch (st) {\n      case \"currentlyReading\":\n        document.getElementsByName(shelfo.bkid)[0][2].innerHTML = \"wantToRead\";\n        document.getElementsByName(shelfo.bkid)[0][3].innerHTML = \"read\";\n        document.getElementsByName(shelfo.bkid)[0][4].innerHTML = \"none\";\n        break;\n      case \"wantToRead\":\n        document.getElementsByName(shelfo.bkid)[0][1].innerHTML =\n          \"currentlyReading\";\n        document.getElementsByName(shelfo.bkid)[0][3].innerHTML = \"read\";\n        document.getElementsByName(shelfo.bkid)[0][4].innerHTML = \"none\";\n        break;\n      case \"read\":\n        document.getElementsByName(shelfo.bkid)[0][1].innerHTML =\n          \"currentlyReading\";\n        document.getElementsByName(shelfo.bkid)[0][2].innerHTML = \"wantToRead\";\n        document.getElementsByName(shelfo.bkid)[0][4].innerHTML = \"none\";\n        break;\n      case \"none\":\n        document.getElementsByName(shelfo.bkid)[0][1].innerHTML =\n          \"currentlyReading\";\n        document.getElementsByName(shelfo.bkid)[0][2].innerHTML = \"wantToRead\";\n        document.getElementsByName(shelfo.bkid)[0][3].innerHTML = \"read\";\n        break;\n      default:\n        break;\n      //  }\n    }\n  }\n\n  function changebookstate() {\n    if (bookselect.current.value === \"none\") {\n      dispatch(wantToRead(wantread.filter((book) => book.id !== shelfo.bkid)));\n      dispatch(read(readed.filter((book) => book.id !== shelfo.bkid)));\n      dispatch(\n        currentlyReading(curread.filter((book) => book.id !== shelfo.bkid))\n      );\n\n      update(shelfo.bkid, \"none\");\n      if (shelfo.ifsearch) {\n        setTimeout(() => {\n          changebk(\"none\", 4);\n        }, 300);\n      }\n    }\n    if (bookselect.current.value === \"currentlyReading\") {\n      setTimeout(() => {\n        changebk(\"currentlyReading\", 1);\n      }, 300);\n      if (curread.filter((book) => book.id === shelfo.bkid).length === 0) {\n        dispatch(\n          wantToRead(wantread.filter((book) => book.id !== shelfo.bkid))\n        );\n        dispatch(read(readed.filter((book) => book.id !== shelfo.bkid)));\n        dispatch(\n          currentlyReading(\n            curread.concat(bookLst.filter((book) => book.id === shelfo.bkid))\n          )\n        );\n\n        update(shelfo.bkid, \"currentlyReading\");\n      }\n    }\n    if (bookselect.current.value === \"wantToRead\") {\n      setTimeout(() => {\n        changebk(\"wantToRead\", 2);\n      }, 300);\n      if (wantread.filter((book) => book.id === shelfo.bkid).length === 0) {\n        dispatch(\n          currentlyReading(curread.filter((book) => book.id !== shelfo.bkid))\n        );\n        dispatch(read(readed.filter((book) => book.id !== shelfo.bkid)));\n        dispatch(\n          wantToRead(\n            wantread.concat(bookLst.filter((book) => book.id === shelfo.bkid))\n          )\n        );\n\n        update(shelfo.bkid, \"wantToRead\");\n      }\n    }\n    if (bookselect.current.value === \"read\") {\n      setTimeout(() => {\n        changebk(\"read\", 3);\n      }, 300);\n      if (readed.filter((book) => book.id === shelfo.bkid).length === 0) {\n        dispatch(\n          currentlyReading(curread.filter((book) => book.id !== shelfo.bkid))\n        );\n        dispatch(\n          wantToRead(wantread.filter((book) => book.id !== shelfo.bkid))\n        );\n        dispatch(\n          read(readed.concat(bookLst.filter((book) => book.id === shelfo.bkid)))\n        );\n\n        update(shelfo.bkid, \"read\");\n      }\n    }\n  }\n  return (\n    <div className=\"book-shelf-changer\">\n      <select\n        value={shelfo.shelfo}\n        name={shelfo.bkid}\n        ref={bookselect}\n        onChange={(e) => {\n          changebookstate(e);\n          setselectstate(e);\n        }}\n      >\n        <option value=\"none\" disabled>\n          Move to...\n        </option>\n        <option value=\"currentlyReading\">Currently Reading</option>\n        <option value=\"wantToRead\">Want to Read</option>\n        <option value=\"read\">Read</option>\n        <option value=\"none\">None</option>\n      </select>\n    </div>\n  );\n}\nexport default Bookselect;\n","import Bookselect from \"./BookSelect\";\nimport \"../App.css\";\nfunction Book({ booko: { id, title, authors, shelf }, ifsearch }) {\n  return (\n    <>\n      <div className=\"book\">\n        <div className=\"book-top\">\n          <div\n            className=\"book-cover\"\n            style={{\n              width: 128,\n              height: 188,\n              backgroundImage: `url(\"http://books.google.com/books/content?id=${id}&printsec=frontcover&img=1&zoom=1&source=gbs_api\")`,\n            }}\n          ></div>\n          <Bookselect shelfo={shelf} bkid={id} ifsearch={ifsearch} />\n        </div>\n        <div className=\"book-title\">{title}</div>\n        <div className=\"book-authors\">{authors.join(\" , \")}</div>\n      </div>\n    </>\n  );\n}\nexport default Book;\n","import Book from \"./Book\";\nimport \"../App.css\";\nimport { getAll } from \"../BooksAPI\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport {\n  bookList,\n  isBusy,\n  currentlyReading,\n  wantToRead,\n  read,\n} from \"../store/action\";\nimport { BallTriangle } from \"react-loader-spinner\";\n\nfunction BookShelf(bookinfo) {\n  const dispatch = useDispatch();\n  //  const [booklistato,setBooklistato] = useState([]);\n  const isBsy = useSelector((state) => state.isbusy);\n  const curread = useSelector((state) => state.currentlyReading);\n  const wantread = useSelector((state) => state.wantToRead);\n  const readed = useSelector((state) => state.read);\n  const arr1 = [];\n  const arr2 = [];\n  const arr3 = [];\n\n  useEffect(() => {\n    dispatch(isBusy(true));\n\n    getAll().then((data) => {\n      dispatch(bookList(data.books));\n      // setBooklistato(data.books);\n\n      data.books.map((book) => {\n        if (book.shelf === \"currentlyReading\") {\n          arr1.push(book);\n        }\n        if (book.shelf === \"wantToRead\") {\n          arr2.push(book);\n        }\n        if (book.shelf === \"read\") {\n          arr3.push(book);\n        }\n        return book;\n      });\n      dispatch(currentlyReading(arr1));\n      dispatch(wantToRead(arr2));\n      dispatch(read(arr3));\n\n      dispatch(isBusy(false));\n    });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {isBsy ? (\n        <div className=\"row d-flex justify-content-center\">\n          <div className=\"col-3\">\n            <BallTriangle />\n          </div>\n        </div>\n      ) : (\n        <div>\n          <div className=\"bookshelf\">\n            <h2 className=\"bookshelf-title\">Currently Reading</h2>\n            <div className=\"bookshelf-books\">\n              <ol className=\"books-grid\">\n                {curread &&\n                  curread.map((book, index) => {\n                    return (\n                      <li key={book.id}>\n                        <Book booko={book} key={book.id} />\n                      </li>\n                    );\n                  })}\n              </ol>\n            </div>\n          </div>\n          <div className=\"bookshelf\">\n            <h2 className=\"bookshelf-title\">Want to Read</h2>\n            <div className=\"bookshelf-books\">\n              <ol className=\"books-grid\">\n                {wantread &&\n                  wantread.map((book, index) => {\n                    return (\n                      <li key={book.id}>\n                        <Book key={book.id} booko={book} />\n                      </li>\n                    );\n                  })}\n              </ol>\n            </div>\n          </div>\n          <div className=\"bookshelf\">\n            <h2 className=\"bookshelf-title\">Read</h2>\n            <div className=\"bookshelf-books\">\n              <ol className=\"books-grid\">\n                {readed &&\n                  readed.map((book, index) => {\n                    return (\n                      <li key={book.id}>\n                        <Book key={book.id} booko={book} />\n                      </li>\n                    );\n                  })}\n              </ol>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\nexport default BookShelf;\n","import \"../App.css\";\nimport BookShelf from \"../components/BookShelf\";\n\nimport { Link } from \"react-router-dom\";\nfunction MainLib() {\n  return (\n    <div className=\"list-books\">\n      <div className=\"list-books-title\">\n        <h1>MyReads</h1>\n      </div>\n      <div className=\"list-books-content\">\n        <div>\n          <BookShelf />\n        </div>\n      </div>\n      <div className=\"open-search\">\n        <Link to={\"/search\"}>Add a book</Link>\n      </div>\n    </div>\n  );\n}\nexport default MainLib;\n","import { Link } from \"react-router-dom\";\nimport \"../App.css\";\nimport Book from \"../components/Book\";\nimport { useRef, useState } from \"react\";\nimport { getAll, search } from \"../BooksAPI\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { isBusy2, searchBook } from \"../store/action\";\nimport { bookList } from \"../store/action\";\n\nfunction Search() {\n  const [searchresult, setSearchresult] = useState([]);\n  const searchvalue = useRef(\"\");\n  const dispatch = useDispatch();\n  const isBsy2 = useSelector((state) => state.isbusy2);\n\n  function findbook(e) {\n    e.preventDefault();\n\n    dispatch(isBusy2(true));\n    setTimeout(() => {\n      const search2 = searchvalue.current.value.toLowerCase();\n      if (search2 === \" \" || search2 === \"\") {\n        setSearchresult([]);\n        dispatch(searchBook([]));\n      } else {\n        search(search2.trim(), 30).then((data) => {\n          if (data && !data.error) {\n            setSearchresult(data);\n            dispatch(searchBook(data));\n            getAll().then((data) => {\n              dispatch(bookList(data.books));\n            });\n          } else {\n            setSearchresult([]);\n            dispatch(searchBook([]));\n          }\n        });\n      }\n    }, 600);\n    dispatch(isBusy2(true));\n  }\n  return (\n    <>\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <Link to={\"/\"} className=\"close-search\">\n            Close\n          </Link>\n          <div className=\"search-books-input-wrapper\">\n            {/* <form\n              // onSubmit={findbook}\n              > */}\n            <input\n              onChange={findbook}\n              // defaultValue=\" \"\n              type=\"text\"\n              placeholder=\"Search by title, author, or ISBN\"\n              ref={searchvalue}\n            />\n            {/* </form> */}\n          </div>\n        </div>\n        <div className=\"search-books-results\">\n          <ol className=\"books-grid\">\n            {isBsy2 && (\n              <>\n                {searchresult.length > 0 ? (\n                  searchresult.map((book, index) => {\n                    return (\n                      <li key={book.id}>\n                        <Book key={book.id} booko={book} ifsearch={true} />\n                      </li>\n                    );\n                  })\n                ) : (\n                  <h1>No search results</h1>\n                )}\n              </>\n            )}\n          </ol>\n        </div>\n      </div>\n    </>\n  );\n}\nexport default Search;\n","import { Link } from \"react-router-dom\";\nfunction NotFound() {\n  return (\n    <>\n      <div className=\"d-flex align-items-center justify-content-center vh-100\">\n        <div className=\"text-center\">\n          <p className=\"fs-3\"> 404</p>\n          <p className=\"fs-1\"> Page not found</p>\n\n          <Link to=\"/\" className=\"btn btn-primary\">\n            Home\n          </Link>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default NotFound;\n","import \"./App.css\";\nimport MainLib from \"./pages/MainLib\";\nimport Search from \"./pages/Search\";\nimport \"./BooksAPI\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport NotFound from \"./pages/NotFound\";\n\nfunction App() {\n  // const [showSearchPage, setShowSearchpage] = useState(false);\n\n  return (\n    <div className=\"app\">\n      <Router>\n        <Switch>\n          <Route exact path={\"/\"} component={MainLib} />\n          <Route exact path={\"/search\"} component={Search} />\n          <Route exact path={\"*\"} component={NotFound} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const INITIAL_VALUE={\n    booklist:[],\n    query:[],\n    isbusy:true,\n    currentlyReading:[],\n    wantToRead:[],\n    read:[],\n    isbusy2:false,\n\n     \n}\nexport default function BookListReducer( state=INITIAL_VALUE,action){\n  switch(action.type){\n    case 'BOOK_LIST':\n      return {\n        ...state,\n        booklist:action.payload\n      }\n    \n    case 'SEARCH_BOOK':\n      return {\n        ...state,\n        query:action.query,\n       }\n    \n    case 'GET_ALL_BOOKS':\n      return {\n        ...state,\n      }\n    case 'IS_BUSY':\n      return {\n        ...state,\n        isbusy:action.isbusy,\n      }\n    case 'IS_BUSY2':\n        return {\n          ...state,\n          isbusy2:action.isbusy2,\n        }\n\n      case 'CURRENTLY_READING':\n\n      return {\n        ...state,\n        currentlyReading:action.currentlyReading,\n      }\n      case 'WANT_TO_READ':\n\n      return {\n        ...state,\n        wantToRead:action.wantToRead,\n      }\n      case 'READ':\n\n      return {\n        ...state,\n        read:action.read,\n      }\n      \n\n\n    default:\n      return state;\n  }\n}","import reducer from './reducer';\nimport { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nconst store = createStore(reducer, composeWithDevTools());\n\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {Provider} from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}